{% extends 'navbar.html' %}
{% load static %}
{% load allauth %}

{% block title %} Sign Up {% endblock title %}

{% block content %}
<!-- Start Banner Area -->
<section class="banner-area organic-breadcrumb">
    <div class="container">
        <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
            <div class="col-first">
                <h1 class="text-center">Create Your Account</h1>
                <nav class="d-flex align-items-center">
                    <a href="{% url 'index' %}" class="text-decoration-none text-secondary">Home 
                        <span class="lnr lnr-arrow-right mx-1"></span>
                    </a>
                    <a href="{% url 'account_login' %}" class="text-decoration-none text-secondary">Login 
                        <span class="lnr lnr-arrow-right mx-1"></span>
                    </a>
                    <a href="{% url 'account_signup' %}" class="text-decoration-none text-secondary">Register</a>
                </nav>
            </div>
        </div>
    </div>
</section>
<!-- End Banner Area -->

<!-- Signup Box Area -->
<section class="login_box_area section_gap">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-5">
                <div class="card shadow-lg border-0 rounded-lg">
                    <div class="card-body p-4">
                        
                        <!-- Header -->
                        <h2 class="text-center mb-3 font-weight-bold text-dark">Sign Up</h2>
                        <p class="text-muted text-center mb-4">Join us and start shopping now!</p>

                        <!-- Error Messages -->
                        {% if form.errors %}
                        <div class="alert alert-danger d-flex align-items-center text-center" role="alert">
                            <i class="fas fa-exclamation-circle me-2"></i>
                            There was an issue with your form submission. Please check your details.
                        </div>
                        {% endif %}

                        {% if user.is_authenticated %}
                        <div class="alert alert-warning text-center">
                            You are already logged in. Please <a href="{% url 'account_login' %}" class="text-decoration-none fw-bold">Log in</a>.
                        </div>
                        {% endif %}

                        <!-- Signup Form -->
                        <form method="POST" action="{% url 'account_signup' %}" autocomplete="off">
                            {% csrf_token %}

                            <!-- Email -->
                            <div class="mb-3">
                                <label for="id_email" class="form-label fw-bold">Email Address</label>
                                <input type="email" class="form-control shadow-sm" name="email" id="id_email" 
                                       placeholder="Enter your email" required>
                                {% for error in form.email.errors %}
                                <div class="text-danger small">{{ error }}</div>
                                {% endfor %}
                            </div>

                            <!-- Password -->
                            <div class="mb-3">
                                <label for="id_password1" class="form-label fw-bold">Password</label>
                                <input type="password" class="form-control shadow-sm" name="password1" id="id_password1" 
                                       placeholder="Create a password" required>
                                {% for error in form.password1.errors %}
                                <div class="text-danger small">{{ error }}</div>
                                {% endfor %}
                            </div>

                            <!-- Confirm Password -->
                            <div class="mb-3">
                                <label for="id_password2" class="form-label fw-bold">Confirm Password</label>
                                <input type="password" class="form-control shadow-sm" name="password2" id="id_password2" 
                                       placeholder="Confirm your password" required>
                                {% for error in form.password2.errors %}
                                <div class="text-danger small">{{ error }}</div>
                                {% endfor %}
                            </div>

                            <!-- Signup Button -->
                            <div class="d-grid mt-4 text-center">
                                <button class="btn btn-lg fw-bold text-white btn-primary" type="submit"
                                        >
                                    Sign Up
                                </button>
                            </div>

                            <!-- Login Redirect -->
                            <div class="text-center mt-4">
                                <p class="mb-2 text-dark">Already have an account?</p>
                                <a class="btn btn-link text-primary fw-bold" href="{% url 'account_login' %}">Log in</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Signup Box Area -->

{% endblock content %}
