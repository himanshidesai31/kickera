{% load static %}
<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="{% static 'img/fav.png' %}">
    <meta name="author" content="CodePixar">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta charset="UTF-8">
    <title>{% block title %} Kickera Shop {% endblock title %}</title>

    <link rel="stylesheet" href="{% static 'css/linearicons.css' %}">
    <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/themify-icons.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.css' %}">
    <link rel="stylesheet" href="{% static 'css/nice-select.css' %}">
    <link rel="stylesheet" href="{% static 'css/nouislider.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/ion.rangeSlider.css' %}">
    <link rel="stylesheet" href="{% static 'css/ion.rangeSlider.skinFlat.css' %}">
    <link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    {% block css %}{% endblock css %}
</head>

{% block header %}
{% endblock header %}


{{ user.id }}
{{ user.username }}

    <!-- Navbar code start -->
    <header class="header_area sticky-header">
        <div class="main_menu">
            <nav class="navbar navbar-expand-lg navbar-light main_box">
                <div class="container">
                    <a class="navbar-brand logo_h" href="{% url 'index' %}">
                        <i class=""></i>
{#                        <img src="{% static 'img/kickera.jpg' %}" alt="">#}
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse offset" id="navbarSupportedContent">
                        <ul class="nav navbar-nav menu_nav ml-auto">
                            <li class="nav-item active  ">
                                <a class="nav-link" href="{% url 'index' %}">Home</a>
                            </li>
                            <li class="nav-item submenu dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button"
                                    aria-haspopup="true" aria-expanded="false">Shop</a>
                                <ul class="dropdown-menu">
                                    <li class="nav-item ">
                                        <a class="nav-link" href="{% url 'category_list'  %}">Product Category's</a>
                                    </li>

                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'checkout'  %}">Product Checkout</a>
                                    </li>

                                    <li class="nav-item">
{#                                        <a class="nav-link" href="{% url 'confirmation' %}">Payment Status</a>#}
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'contact' %}">Contact</a>
                            </li>

                                {% if user.is_authenticated %}
                                    {% if user.is_vendor %}
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'vendor_dashboard' %}">Vendor Dashboard</a>
                                        </li>
                                    {% else %}
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'seller_register' %}">Become a Seller</a>
                                        </li>
                                    {% endif %}
                                {% else %}
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'seller_register' %}">Become a Seller</a>
                                    </li>
                                {% endif %}

                            {% if user.is_authenticated %}
                                <li class="nav-item submenu dropdown">
                                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button"
                                        aria-haspopup="true" aria-expanded="false">
                                        <i style="font-size: 22px" class="fa fa-user"></i>
                                    </a>
                                    <ul class="dropdown-menu">

                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'profile' %}">My profile</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'address_list_view' %}">Address</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'user_orders' %}">My Orders</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'account_change_password' %}">Change Password</a>
                                        </li>
                                        <li class="nav-item">
                                        <a class="nav-link" href="{% url 'account_email' %}">Change Email</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'account_logout' %}">Logout</a>
                                        </li>
                                    </ul>
                                </li>
                            {% else %}
                                <li class="nav-item submenu dropdown">
                                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button"
                                        aria-haspopup="true" aria-expanded="false">
                                        <i style="font-size: 22px" class="fa fa-user"></i>
                                    </a>
                                    <ul class="dropdown-menu ">
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'account_signup' %}">Register</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url "account_login" %}">Login</a>
                                            {# user this for follow the url link ?next = {{ request.GET.next }} #}
                                        </li>

                                    </ul>
                                </li>
                            {% endif %}
                        </ul>
                        <ul class="nav navbar-nav navbar-right">
                            <li class="nav-item">
                                <a href="{% url 'cart_list' %}" class="cart">
                                    <span style="font-size: 18px" class="ti-shopping-cart"></span>
                                    {% if cart_count > 0 %}
                                    <span id="cart-count-badge">{{ cart_count }}</span>
                                    {% else %}
                                    <span id="cart-count-badge" style="display: none;">0</span>
                                    {% endif %}
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'wishlist' %}" class="cart">
                                    <span style="font-size: 18px" class="lnr lnr-heart"></span>
                                    {% if wishlist_count > 0 %}
                                    <span id="wishlist-count-badge" class="text-danger">{{ wishlist_count }}</span>
                                    {% else %}
                                    <span id="wishlist-count-badge" class="text-danger" style="display: none;">0</span>
                                    {% endif %}
                                </a>
                            </li>
                            <li class="nav-item">
                                        <button class="search" id="searchButton">
                                    <span style="font-size: 18px" class="lnr lnr-magnifier"></span>
                                </button>
                            </li>
                        </ul>
                        <!-- Search Input Box -->
                        <div class="search_input" id="search_input_box">
                            <div class="container">
                                <form class="d-flex justify-content-between" action="#" method="get">
                                    <input type="text" class="form-control" id="search_input" name="q" placeholder="Search Here">
                                    <button type="submit" class="btn"></button>
                                    <span class="lnr lnr-cross" id="close_search" title="Close Search"></span>
                                </form>
                            </div>
                            </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    {% block content %}
    {% endblock content %}

    <!-- Footer code start -->
    <footer class="footer-area section_gap">
        <div class="container">
            <div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
                <p class="footer-text m-0">
                    Copyright &copy;
                    <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is
                    made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://kickera.com"
                        target="_blank">Kickera Shoes Store </a>
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="{% static 'js/vendor/jquery-2.2.4.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="{% static 'js/vendor/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/jquery.ajaxchimp.min.js' %}"></script>
    <script src="{% static 'js/jquery.nice-select.min.js' %}"></script>
    <script src="{% static 'js/jquery.sticky.js' %}"></script>
    <script src="{% static 'js/nouislider.min.js' %}"></script>
    <script src="{% static 'js/countdown.js' %}"></script>
    <script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/gmaps.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchButton = document.getElementById('searchButton');
            const searchInputBox = document.getElementById('search_input_box');
            const closeSearch = document.getElementById('close_search');

            if (searchButton && searchInputBox && closeSearch) {
                searchButton.addEventListener('click', function () {
                    document.getElementById('search_input').focus();
                    searchInputBox.style.display = 'block';
                });
                closeSearch.addEventListener('click', function () {
                    searchInputBox.style.display = 'none';
                });
            }
        });
        
        // Global function to update cart and wishlist counts in navbar
        function updateNavbarCounts(type, count) {
            // For adding to cart
            if (type === 'cart') {
                const cartBadge = document.getElementById('cart-count-badge');
                if (cartBadge) {
                    if (count > 0) {
                        cartBadge.textContent = count;
                        cartBadge.style.display = '';
                    } else {
                        cartBadge.style.display = 'none';
                    }
                }
            } 
            // For adding to wishlist
            else if (type === 'wishlist') {
                const wishlistBadge = document.getElementById('wishlist-count-badge');
                if (wishlistBadge) {
                    if (count > 0) {
                        wishlistBadge.textContent = count;
                        wishlistBadge.style.display = '';
                    } else {
                        wishlistBadge.style.display = 'none';
                    }
                }
            }
        }
    </script>
    {% block js %}{% endblock js %}
    {% block jq %}{% endblock jq %}

</html>